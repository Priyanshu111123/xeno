"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[838],{838:(e,a,l)=>{l.r(a),l.d(a,{default:()=>r});var t=l(43),n=l(219),s=l(579);const r=()=>{const[e,a]=(0,t.useState)([{field:"",operator:"",value:""}]),[l,r]=(0,t.useState)(null),i=(l,t,n)=>{const s=[...e];s[l][t]=n,a(s)};return(0,s.jsxs)("div",{className:"p-4 max-w-xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Create Campaign Segment"}),e.map(((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("input",{className:"border p-2 w-1/3",placeholder:"Field",value:e.field,onChange:e=>i(a,"field",e.target.value)}),(0,s.jsxs)("select",{className:"border p-2 w-1/3",value:e.operator,onChange:e=>i(a,"operator",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Operator"}),(0,s.jsx)("option",{value:">",children:">"}),(0,s.jsx)("option",{value:"<",children:"<"}),(0,s.jsx)("option",{value:">=",children:">="}),(0,s.jsx)("option",{value:"<=",children:"<="}),(0,s.jsx)("option",{value:"==",children:"=="})]}),(0,s.jsx)("input",{className:"border p-2 w-1/3",placeholder:"Value",value:e.value,onChange:e=>i(a,"value",e.target.value)})]},a))),(0,s.jsx)("button",{onClick:()=>{a([...e,{field:"",operator:"",value:""}])},className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add Rule"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("button",{onClick:async()=>{try{const a=await n.A.post("/api/preview-audience",{rules:e});r(a.data.size)}catch(a){console.error("Error fetching audience size",a)}},className:"bg-yellow-500 text-white px-4 py-2 rounded mr-2",children:"Preview Audience"}),(0,s.jsx)("button",{onClick:async()=>{try{await n.A.post("/api/save-campaign",{rules:e}),window.location.href="/campaign-history"}catch(a){console.error("Error saving campaign",a)}},className:"bg-green-500 text-white px-4 py-2 rounded",children:"Save Campaign"})]}),null!==l&&(0,s.jsxs)("div",{className:"mt-2 text-lg",children:["Estimated Audience Size: ",(0,s.jsx)("strong",{children:l})]})]})}}}]);
//# sourceMappingURL=838.5b3dcce6.chunk.js.map