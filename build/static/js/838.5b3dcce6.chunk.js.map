{"version":3,"file":"static/js/838.5b3dcce6.chunk.js","mappings":"8JAIA,MA8FA,EA9FwBA,KACtB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CACjC,CAAEC,MAAO,GAAIC,SAAU,GAAIC,MAAO,OAE7BC,EAAcC,IAAmBL,EAAAA,EAAAA,UAAS,MAE3CM,EAAmBA,CAACC,EAAOC,EAAKL,KACpC,MAAMM,EAAe,IAAIX,GACzBW,EAAaF,GAAOC,GAAOL,EAC3BJ,EAASU,IAyBX,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAAyBC,SAAC,4BACvCd,EAAMgB,KAAI,CAACC,EAAMR,KAChBG,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,kBAAiBC,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,SACEF,UAAU,mBACVK,YAAY,QACZb,MAAOY,EAAKd,MACZgB,SAAWC,GAAMZ,EAAiBC,EAAO,QAASW,EAAEC,OAAOhB,UAE7DO,EAAAA,EAAAA,MAAA,UACEC,UAAU,mBACVR,MAAOY,EAAKb,SACZe,SAAWC,GAAMZ,EAAiBC,EAAO,WAAYW,EAAEC,OAAOhB,OAAOS,SAAA,EAErEC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,GAAES,SAAC,cACjBC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,IAAGS,SAAC,OAClBC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,IAAGS,SAAC,OAClBC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,KAAIS,SAAC,QACnBC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,KAAIS,SAAC,QACnBC,EAAAA,EAAAA,KAAA,UAAQV,MAAM,KAAIS,SAAC,WAErBC,EAAAA,EAAAA,KAAA,SACEF,UAAU,mBACVK,YAAY,QACZb,MAAOY,EAAKZ,MACZc,SAAWC,GAAMZ,EAAiBC,EAAO,QAASW,EAAEC,OAAOhB,WAvBrDI,MA2BZM,EAAAA,EAAAA,KAAA,UACEO,QAtDUC,KACdtB,EAAS,IAAID,EAAO,CAAEG,MAAO,GAAIC,SAAU,GAAIC,MAAO,OAsDlDQ,UAAU,2CAA0CC,SACrD,cAGDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,UACEO,QAzDgBE,UACtB,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,KAAK,wBAAyB,CAAE3B,UAC7DO,EAAgBkB,EAASG,KAAKC,KAChC,CAAE,MAAOC,GACPC,QAAQD,MAAM,+BAAgCA,EAChD,GAoDMjB,UAAU,kDAAiDC,SAC5D,sBAGDC,EAAAA,EAAAA,KAAA,UACEO,QAtDaE,UACnB,UACQE,EAAAA,EAAMC,KAAK,qBAAsB,CAAE3B,UACzCgC,OAAOC,SAASC,KAAO,mBACzB,CAAE,MAAOJ,GACPC,QAAQD,MAAM,wBAAyBA,EACzC,GAiDMjB,UAAU,4CAA2CC,SACtD,qBAIe,OAAjBR,IACCM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,CAAC,6BACHC,EAAAA,EAAAA,KAAA,UAAAD,SAASR,U","sources":["pages/CampaignBuilder.jsx"],"sourcesContent":["// CampaignBuilder.js - Campaign Segment Creation Page\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CampaignBuilder = () => {\r\n  const [rules, setRules] = useState([\r\n    { field: '', operator: '', value: '' }\r\n  ]);\r\n  const [audienceSize, setAudienceSize] = useState(null);\r\n\r\n  const handleRuleChange = (index, key, value) => {\r\n    const updatedRules = [...rules];\r\n    updatedRules[index][key] = value;\r\n    setRules(updatedRules);\r\n  };\r\n\r\n  const addRule = () => {\r\n    setRules([...rules, { field: '', operator: '', value: '' }]);\r\n  };\r\n\r\n  const previewAudience = async () => {\r\n    try {\r\n      const response = await axios.post('/api/preview-audience', { rules });\r\n      setAudienceSize(response.data.size);\r\n    } catch (error) {\r\n      console.error('Error fetching audience size', error);\r\n    }\r\n  };\r\n\r\n  const saveCampaign = async () => {\r\n    try {\r\n      await axios.post('/api/save-campaign', { rules });\r\n      window.location.href = '/campaign-history';\r\n    } catch (error) {\r\n      console.error('Error saving campaign', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 max-w-xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Create Campaign Segment</h2>\r\n      {rules.map((rule, index) => (\r\n        <div key={index} className=\"flex gap-2 mb-2\">\r\n          <input\r\n            className=\"border p-2 w-1/3\"\r\n            placeholder=\"Field\"\r\n            value={rule.field}\r\n            onChange={(e) => handleRuleChange(index, 'field', e.target.value)}\r\n          />\r\n          <select\r\n            className=\"border p-2 w-1/3\"\r\n            value={rule.operator}\r\n            onChange={(e) => handleRuleChange(index, 'operator', e.target.value)}\r\n          >\r\n            <option value=\"\">Operator</option>\r\n            <option value=\">\">&gt;</option>\r\n            <option value=\"<\">&lt;</option>\r\n            <option value=\">=\">&gt;=</option>\r\n            <option value=\"<=\">&lt;=</option>\r\n            <option value=\"==\">==</option>\r\n          </select>\r\n          <input\r\n            className=\"border p-2 w-1/3\"\r\n            placeholder=\"Value\"\r\n            value={rule.value}\r\n            onChange={(e) => handleRuleChange(index, 'value', e.target.value)}\r\n          />\r\n        </div>\r\n      ))}\r\n      <button\r\n        onClick={addRule}\r\n        className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n      >\r\n        Add Rule\r\n      </button>\r\n      <div className=\"mt-4\">\r\n        <button\r\n          onClick={previewAudience}\r\n          className=\"bg-yellow-500 text-white px-4 py-2 rounded mr-2\"\r\n        >\r\n          Preview Audience\r\n        </button>\r\n        <button\r\n          onClick={saveCampaign}\r\n          className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n        >\r\n          Save Campaign\r\n        </button>\r\n      </div>\r\n      {audienceSize !== null && (\r\n        <div className=\"mt-2 text-lg\">\r\n          Estimated Audience Size: <strong>{audienceSize}</strong>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignBuilder;"],"names":["CampaignBuilder","rules","setRules","useState","field","operator","value","audienceSize","setAudienceSize","handleRuleChange","index","key","updatedRules","_jsxs","className","children","_jsx","map","rule","placeholder","onChange","e","target","onClick","addRule","async","response","axios","post","data","size","error","console","window","location","href"],"sourceRoot":""}